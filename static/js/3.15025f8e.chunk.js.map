{"version":3,"sources":["components/common/Paginator/paginator.module.css","components/Users/users.module.css","components/Users/girl.png","components/common/Paginator/Paginator.jsx","components/Users/User.jsx","components/Users/Users.jsx","redux/usersSelectors.js","components/Users/UsersContainer.js"],"names":["module","exports","Paginator","totalItemsCount","pageSize","currentPage","onPageChanged","portionSize","numberOfPages","Math","ceil","pages","i","push","portionsCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","className","c","paginator","onClick","filter","p","map","key","selectedPage","pageNumber","User","user","followingInProgress","unfollowThunkCreator","followThunkCreator","to","id","src","photos","small","user_pic","userPhoto","alt","followed","disabled","some","name","status","Users","totalUsersCount","users","getUsersData","state","usersPage","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","isFetching","getFollowingInProgress","UsersAPIcomponent","props","getUsersThunkCreator","this","Preloader","React","Component","UsersContainer","compose","connect"],"mappings":"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","file":"static/js/3.15025f8e.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"paginator\":\"paginator_paginator__3Rv9i\",\"pageNumber\":\"paginator_pageNumber__3RWe-\",\"selectedPage\":\"paginator_selectedPage__1WJ0J\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userPhoto\":\"users_userPhoto__1to1k\"};","module.exports = __webpack_public_path__ + \"static/media/girl.a25dd1aa.png\";","import React, {useState} from 'react';\r\nimport c from './paginator.module.css';\r\n\r\nexport let Paginator = ({totalItemsCount, pageSize, currentPage, onPageChanged, portionSize = 10}) => {\r\n\r\n    let numberOfPages = Math.ceil(totalItemsCount / pageSize);\r\n\r\n    let pages = [];\r\n\r\n    for (let i = 1; i <= numberOfPages; i++) {\r\n        pages.push(i);\r\n    }\r\n\r\n    let portionsCount = Math.ceil(numberOfPages/portionSize);\r\n    let [portionNumber, setPortionNumber] = useState(1);\r\n    let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\r\n    let rightPortionPageNumber = portionNumber * portionSize;\r\n\r\n    return (\r\n        <div className={c.paginator}>\r\n            {portionNumber > 1 &&\r\n                <button onClick={() => setPortionNumber(portionNumber - 1)}>Prev</button>}\r\n            {pages.filter(p => p >= leftPortionPageNumber && p <= rightPortionPageNumber)\r\n                .map(p => {\r\n                    return <span\r\n                        key={p}\r\n                        className={p === currentPage ? c.selectedPage : c.pageNumber }\r\n                        onClick={() => onPageChanged(p)}>{p}</span>\r\n                })}\r\n            {portionNumber < portionsCount &&\r\n                <button onClick={() => setPortionNumber(portionNumber + 1)}>Next</button>}\r\n        </div>\r\n    );\r\n}\r\n","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport c from './users.module.css';\r\nimport user_pic from './girl.png';\r\n\r\nexport const User = ({user,followingInProgress,unfollowThunkCreator,followThunkCreator}) => {\r\n\r\n  return <div>\r\n  <span>\r\n    <div>\r\n      <NavLink to={`/profile/${user.id}`}>\r\n      <img src={user.photos.small !== null ? user.photos.small : user_pic} className={c.userPhoto} alt='user'/>\r\n      </NavLink>\r\n    </div>\r\n    <div>\r\n      {user.followed ? \r\n        <button disabled={followingInProgress.some(id => id === user.id)} \r\n          onClick={() => unfollowThunkCreator(user.id)\r\n        }>Unfollow</button> : \r\n        <button disabled={followingInProgress.some(id => id === user.id)}\r\n          onClick={() => followThunkCreator(user.id) \r\n        }>Follow</button>}\r\n    </div>\r\n  </span>\r\n  <span>\r\n    <span>\r\n      <div>{user.name}</div>\r\n      <div>{user.status}</div> \r\n    </span>\r\n    <span>\r\n      <div>{\"user.location.country\"}</div>\r\n      <div>{\"user.location.city\"}</div>\r\n    </span>\r\n  </span>\r\n</div>\r\n}","import React from 'react';\r\nimport { Paginator } from '../common/Paginator/Paginator';\r\nimport { User } from './User';\r\n\r\n\r\nexport let Users = ({totalUsersCount,pageSize,currentPage,onPageChanged,\r\n  users,followingInProgress,followThunkCreator,unfollowThunkCreator}) => {\r\n\r\n  return <div>\r\n      <Paginator \r\n        totalItemsCount={totalUsersCount}\r\n        pageSize={pageSize} \r\n        currentPage={currentPage} \r\n        onPageChanged={onPageChanged}\r\n      />\r\n      {\r\n        users.map(user => <User key={user.id} user={user} followingInProgress={followingInProgress} \r\n          unfollowThunkCreator={unfollowThunkCreator} followThunkCreator={followThunkCreator}/>\r\n        )\r\n      }\r\n  </div>\r\n}","export const getUsersData = state => {\r\n  return state.usersPage.users;\r\n}\r\n\r\nexport const getPageSize = state => {\r\n  return state.usersPage.pageSize;\r\n}\r\n\r\nexport const getTotalUsersCount = state => {\r\n  return state.usersPage.totalUsersCount;\r\n}\r\n\r\nexport const getCurrentPage = state => {\r\n  return state.usersPage.currentPage;\r\n}\r\n\r\nexport const getIsFetching = state => {\r\n  return state.usersPage.isFetching;\r\n}\r\n\r\nexport const getFollowingInProgress = state => {\r\n  return state.usersPage.followingInProgress;\r\n}\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { getUsersThunkCreator, unfollowThunkCreator, followThunkCreator } from '../../redux/usersReducer';\r\nimport { Users } from './Users';\r\nimport { Preloader } from '../common/Preloader/Preloader';\r\nimport { compose } from 'redux';\r\nimport { getUsersData, getPageSize, getTotalUsersCount, getCurrentPage, getIsFetching, getFollowingInProgress } from '../../redux/usersSelectors';\r\n\r\n\r\n\r\n\r\nexport class UsersAPIcomponent extends React.Component {\r\n\r\n  componentDidMount(){\r\n    const {currentPage, pageSize} = this.props;\r\n    this.props.getUsersThunkCreator(currentPage, pageSize, false);\r\n  }\r\n\r\n  onPageChanged = pageNumber => {\r\n    const {pageSize} = this.props;\r\n    this.props.getUsersThunkCreator(pageNumber, pageSize, true);\r\n  }\r\n\r\n  render(){\r\n    return <>\r\n      {this.props.isFetching ? <Preloader /> : null}\r\n      <Users totalUsersCount={this.props.totalUsersCount}\r\n             pageSize={this.props.pageSize}\r\n             currentPage={this.props.currentPage}\r\n             onPageChanged={this.onPageChanged}\r\n             users={this.props.users}\r\n             followingInProgress={this.props.followingInProgress}\r\n             unfollowThunkCreator={this.props.unfollowThunkCreator}\r\n             followThunkCreator={this.props.followThunkCreator}\r\n      />\r\n    </>\r\n  }\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n  return {\r\n    users: getUsersData(state),\r\n    pageSize: getPageSize(state),\r\n    totalUsersCount: getTotalUsersCount(state),\r\n    currentPage: getCurrentPage(state),\r\n    isFetching: getIsFetching(state),\r\n    followingInProgress: getFollowingInProgress(state)\r\n  }\r\n};\r\n\r\nconst UsersContainer = compose(\r\n  connect(mapStateToProps, {getUsersThunkCreator, unfollowThunkCreator, followThunkCreator})\r\n)(UsersAPIcomponent);\r\n\r\nexport default UsersContainer;\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n// let mapDispatchToProps = (dispatch) => {\r\n//   return { //вместо всей этой функции в конект пропихнули просто объект из action createrov \r\n    // follow: (userId) => {\r\n    //   dispatch(followAC(userId))\r\n    // },\r\n    // unfollow: (userId) => {\r\n    //   dispatch(unfollowAC(userId))\r\n    // },\r\n    // setUsers: (users) => {\r\n    //   dispatch(setUsersAC(users))\r\n    // },\r\n    // setCurrentPage: (pageNumber) => {\r\n    //   dispatch(setCurrentPageAC(pageNumber))\r\n    // },\r\n    // setTotalUsersCount: (totalUsersCount) => {\r\n    //   dispatch(setTotalUsersCountAC(totalUsersCount))\r\n    // },\r\n    // toggleIsFetching: (isFetching) => {\r\n    //   dispatch(toggleIsFetchingAC(isFetching))\r\n//     }\r\n//   }\r\n// }"],"sourceRoot":""}